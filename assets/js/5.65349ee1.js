(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{244:function(s,t,a){s.exports=a.p+"assets/img/15721803001859.712f9b4c.jpg"},245:function(s,t,a){s.exports=a.p+"assets/img/15721824422708.adb85129.jpg"},246:function(s,t,a){s.exports=a.p+"assets/img/15721831094289.d7216768.jpg"},256:function(s,t,a){s.exports=a.p+"assets/img/15721885596241.788d3b93.jpg"},619:function(s,t,a){s.exports=a.p+"assets/img/15721785603128.9c9ad413.jpg"},620:function(s,t,a){s.exports=a.p+"assets/img/15721786893099.f4a39621.jpg"},621:function(s,t,a){s.exports=a.p+"assets/img/15721788154087.07f50899.jpg"},622:function(s,t,a){s.exports=a.p+"assets/img/15721789823600.4145c469.jpg"},623:function(s,t,a){s.exports=a.p+"assets/img/15721794415563.b8e135cf.jpg"},624:function(s,t,a){s.exports=a.p+"assets/img/15721797028175.4efcb117.jpg"},625:function(s,t,a){s.exports=a.p+"assets/img/15721824091403.c6d95753.jpg"},626:function(s,t,a){s.exports=a.p+"assets/img/15721863805527.c6a9cab6.jpg"},627:function(s,t,a){s.exports=a.p+"assets/img/15721866398755.9b66b31c.jpg"},628:function(s,t,a){s.exports=a.p+"assets/img/15724465024976.f5c89da8.jpg"},629:function(s,t,a){s.exports=a.p+"assets/img/15721885730321.44abc021.jpg"},630:function(s,t,a){s.exports=a.p+"assets/img/15721886722093.6b4fae24.jpg"},631:function(s,t,a){s.exports=a.p+"assets/img/15723544210044.e433cce1.jpg"},632:function(s,t,a){s.exports=a.p+"assets/img/15723545645639.8ec45867.jpg"},633:function(s,t,a){s.exports=a.p+"assets/img/15723548408914.ebf13069.jpg"},634:function(s,t,a){s.exports=a.p+"assets/img/15723561019412.66a46e83.jpg"},635:function(s,t,a){s.exports=a.p+"assets/img/15723562579303.a34e9f32.jpg"},636:function(s,t,a){s.exports=a.p+"assets/img/15723563862630.bdb5d20c.jpg"},637:function(s,t,a){s.exports=a.p+"assets/img/15723615529287.66969b82.jpg"},638:function(s,t,a){s.exports=a.p+"assets/img/15723621324320.c885fc5b.jpg"},660:function(s,t,a){"use strict";a.r(t);var e=a(38),n=Object(e.a)({},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"ubuntu-install-laravel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-install-laravel","aria-hidden":"true"}},[s._v("#")]),s._v(" Ubuntu install Laravel")]),s._v(" "),e("p",[s._v("I am using digitalocean VPS service, since "),e("a",{attrs:{href:"https://education.github.com/pack",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Student Developer Pack"),e("OutboundLink")],1),s._v(" have $50 in platform credit for new users.")]),s._v(" "),e("p",[e("strong",[s._v("OS:")]),s._v(" Ubuntu 18.04.3 (LTS) x64")]),s._v(" "),e("p",[e("img",{attrs:{src:a(619),alt:""}})]),s._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-laravel-with-lemp-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Install and Configure Laravel with LEMP on Ubuntu 18.04"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("Step:")]),s._v(" "),e("ol",[e("li",[s._v("Initial Server Setup with Ubuntu 18.04 guide")]),s._v(" "),e("li",[s._v("Install Linux, Nginx, MySQL, PHP (LEMP stack)")]),s._v(" "),e("li",[s._v("Install Composer")]),s._v(" "),e("li",[s._v("Install Git and setup Github ssh login")]),s._v(" "),e("li",[s._v("Clone github project, deploy")])]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"_1-initial-server-setup-with-ubuntu-18-04"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-initial-server-setup-with-ubuntu-18-04","aria-hidden":"true"}},[s._v("#")]),s._v(" 1. Initial Server Setup with Ubuntu 18.04")]),s._v(" "),e("blockquote",[e("p",[s._v("https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04")])]),s._v(" "),e("p",[s._v("Get Ip\n"),e("img",{attrs:{src:a(620),alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(621),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ~/.ssh is used by default")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@142.93.61.168\n")])])]),e("p",[e("img",{attrs:{src:a(622),alt:"-c"}})]),s._v(" "),e("h3",{attrs:{id:"ufw-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ufw-setup","aria-hidden":"true"}},[s._v("#")]),s._v(" ufw setup")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://chusiang.gitbooks.io/working-on-gnu-linux/07.ufw.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ufw"),e("OutboundLink")],1),s._v(" is an easy Firewall Management tool.")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("ufw app list\n")])])]),e("p",[e("img",{attrs:{src:a(623),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Allow OpenSSH to make sure we can use ssh service after enabled ufw")]),s._v("\nufw allow OpenSSH\nufw "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("ufw status\n")])])]),e("p",[e("img",{attrs:{src:a(624),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"install-vnc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-vnc","aria-hidden":"true"}},[s._v("#")]),s._v(" Install VNC")]),s._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-vnc-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Install and Configure VNC on Ubuntu 18.04"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xfce4 xfce4-goodies\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" tightvncserver\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#For copy & paste https://unix.stackexchange.com/a/274692")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" autocutsel\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setup password between 6 to 8 ")]),s._v("\nvncserver\n")])])]),e("p",[e("img",{attrs:{src:a(244),alt:"-c"}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Close vncserver before setup configuring VNC Server")]),s._v("\nvncserver -kill :1\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# backup original xstartup file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ~/.vnc/xstartup ~/.vnc/xstartup.bak\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" ~/.vnc/xstartup\n")])])]),e("p",[s._v("copy in xstartup")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#!/bin/bash\nxrdb $HOME/.Xresources\nautocutsel -fork\nstartxfce4 &\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make it executable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x ~/.vnc/xstartup\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# restart")]),s._v("\nvncserver\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create an SSH connection forwards to the localhost connection for VNC.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -L "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5901")]),s._v(":127.0.0.1:5901 root@142.93.61.168\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Or open 5901 port to use remote url access")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ufw allow "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5901")]),s._v("\n")])])]),e("h4",{attrs:{id:"contect-vnc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contect-vnc","aria-hidden":"true"}},[s._v("#")]),s._v(" Contect VNC")]),s._v(" "),e("p",[s._v("Use any VNC Client tool, i am using "),e("a",{attrs:{href:"https://jumpdesktop.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jump Desktop"),e("OutboundLink")],1),s._v(" "),e("img",{attrs:{src:a(245),alt:"-c"}})]),s._v(" "),e("p",[e("strong",[s._v("Click")]),s._v(" "),e("code",[s._v("Use default config")]),s._v(" "),e("img",{attrs:{src:a(625),alt:""}})]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.youtube.com/watch?v=PiKqqPZcn3A",target:"_blank",rel:"noopener noreferrer"}},[s._v('How to fix "Failed to Execute Default Web Browser. Input/Output Error."'),e("OutboundLink")],1)]),s._v(" "),e("p",[e("img",{attrs:{src:a(246),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" firefox\n")])])]),e("hr"),s._v(" "),e("h2",{attrs:{id:"_2-install-nginx-mysql-php-lemp-stack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-install-nginx-mysql-php-lemp-stack","aria-hidden":"true"}},[s._v("#")]),s._v(" 2. Install Nginx, MySQL, PHP (LEMP stack)")]),s._v(" "),e("h3",{attrs:{id:"nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx","aria-hidden":"true"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),e("blockquote",[e("p",[s._v("https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo apt update\nsudo apt install nginx\n\n#Open port 80,443\nsudo ufw allow 'Nginx HTTP'\nsudo ufw allow 'Nginx HTTPS'\n")])])]),e("p",[s._v("now, go to "),e("code",[s._v("localhost")]),s._v(" in Browser will display welcome page")]),s._v(" "),e("p",[e("img",{attrs:{src:a(626),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# inside mysql environment")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mysql\n")])])]),e("p",[e("img",{attrs:{src:a(627),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Check authentication method of each MySQL user accounts")]),s._v("\nSELECT user,authentication_string,plugin,host FROM mysql.user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n+------------------+-------------------------------------------+-----------------------+-----------+\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" user             "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" authentication_string                     "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" plugin                "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------+-------------------------------------------+-----------------------+-----------+\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" root             "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" auth_socket           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" localhost "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql.session    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql_native_password "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" localhost "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql.sys        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql_native_password "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" localhost "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" debian-sys-maint "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" *CC744277A401A7D25BE1CA89AFF17BF607F876FF "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql_native_password "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" localhost "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------+-------------------------------------------+-----------------------+-----------+\n")])])]),e("p",[s._v("change "),e("code",[s._v("auth_socket")]),s._v(" to "),e("code",[s._v("mysql_native_password")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# change authentication method and set password")]),s._v("\nALTER "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED WITH mysql_native_password BY "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# reload the grant tables")]),s._v("\nFLUSH PRIVILEGES"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#login mysql")]),s._v("\nmysql -u root -p\n")])])]),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# create database - booking")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" booking"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# create user - booking_user which have all permission of database - booking")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" booking"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'booking_user'")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h4",{attrs:{id:"allow-remote-access-to-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#allow-remote-access-to-mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" Allow Remote Access to MySQL")]),s._v(" "),e("blockquote",[e("p",[s._v("https://www.digitalocean.com/community/tutorials/how-to-allow-remote-access-to-mysql")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# change bind-address from 127.0.0.1 to 0.0.0.0\nsudo nano /etc/mysql/mysql.conf.d/mysqld.cnf\n\nsudo systemctl restart mysql\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ufw allow mysql\n")])])]),e("h5",{attrs:{id:"try-in-mysql-client"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#try-in-mysql-client","aria-hidden":"true"}},[s._v("#")]),s._v(" Try in mysql client")]),s._v(" "),e("p",[e("img",{attrs:{src:a(628),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php","aria-hidden":"true"}},[s._v("#")]),s._v(" PHP")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# add universe repository to install php\nsudo add-apt-repository universe\n\nsudo apt install php-fpm php-mysql\nsudo apt install php-mbstring php-xml php-bcmath\n")])])]),e("h4",{attrs:{id:"nginx-architecture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx-architecture","aria-hidden":"true"}},[s._v("#")]),s._v(" Nginx Architecture")]),s._v(" "),e("p",[s._v("sites-available "),e("code",[s._v("- linkup ->")]),s._v(" sites-enabled")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setup server block configuration(example.com) in sites-available")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/nginx/sites-available/example.com\n")])])]),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[s._v("server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(";\n        root /var/www/html;\n        index index.php index.html index.htm index.nginx-debian.html;\n        server_name example.com;\n\n        location / "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                try_files $uri $uri/ ="),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),s._v(";\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        location ~ \\.php$ "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                include snippets/fastcgi-php.conf;\n                fastcgi_pass unix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("/var/run/php/php"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.2")]),s._v("-fpm.sock;\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        location ~ /\\.ht "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                deny all;\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linkup sites-available/example.com to sites-enabled/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unlink the default configuration file ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" unlink /etc/nginx/sites-enabled/default\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check have not errors")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx -t\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl reload nginx\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# create index.php")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /var/www/html/index.php\n")])])]),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("phpinfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),e("p",[s._v("now, we need add one record in "),e("code",[s._v("/etc/hosts")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("127.0.0.1 example.com\n")])])]),e("p",[e("img",{attrs:{src:a(256),alt:""}})]),s._v(" "),e("p",[e("code",[s._v("http://example.com/info.php")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(629),alt:""}})]),s._v(" "),e("p",[s._v("Or, use Server IP: "),e("code",[s._v("http://142.93.48.91")]),s._v(" "),e("img",{attrs:{src:a(630),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"_3-install-composer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-install-composer","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.Install Composer")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" php-cli php-mbstring "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sS https://getcomposer.org/installer -o composer-setup.php\n")])])]),e("p",[s._v("copy Installer Signature (SHA-384) in https://composer.github.io/pubkeys.html\n"),e("img",{attrs:{src:a(631),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# paster here")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HASH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("a5c698ffe4b8e849a443b120cd5ba38043260d5c4023dbf93e1558871f1f07f58274fc6f4c93bcfd858c6bd0775cd8d1\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# verify installation script, if correct output will display "Installer verified"')]),s._v("\n\nphp -r "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"if (hash_file('SHA384', 'composer-setup.php') === '"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HASH")]),s._v("') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"")]),s._v("\n")])])]),e("p",[e("img",{attrs:{src:a(632),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install composer in /usr/local/bin")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" php composer-setup.php --install-dir"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/bin --filename"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("composer\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("composer\n")])])]),e("p",[e("img",{attrs:{src:a(633),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"_4-install-git-and-setup-github-ssh-login"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-install-git-and-setup-github-ssh-login","aria-hidden":"true"}},[s._v("#")]),s._v(" 4. Install Git and setup Github ssh login")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Your name"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email email\n")])])]),e("p",[e("img",{attrs:{src:a(634),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"use-ssh-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-ssh-optional","aria-hidden":"true"}},[s._v("#")]),s._v(" use ssh ( Optional )")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\nssh-keygen -t rsa -C "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github email"')]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#copy output")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub\n")])])]),e("p",[e("img",{attrs:{src:a(635),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# test")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com\n")])])]),e("p",[e("img",{attrs:{src:a(636),alt:"-c"}})]),s._v(" "),e("h2",{attrs:{id:"_5-clone-github-project-deploy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-clone-github-project-deploy","aria-hidden":"true"}},[s._v("#")]),s._v(" 5. Clone github project, deploy")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/www/\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clone own project")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Option 1. use ssh (setup in above step) ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone git@github.com:WingCH/Booking_Web.git\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Option 1. use https")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setup this config in order to input password once only")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://blog.csdn.net/Aifore/article/details/82870825")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global credential.helper store\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# input password after this command ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(if using two factor authentication need to use personal access token https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line )")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/WingCH/Booking_Web.git\n\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Booking_Web\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# give the web server user write access to the storage and cache")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R www-data.www-data storage\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R www-data.www-data bootstrap/cache\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# copy and rename .env.example to .env")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" .env.example .env\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install Laravel lib")]),s._v("\ncomposer "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# generate APP_KEY into .env")]),s._v("\nphp artisan key:generate\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create and edit nginx config file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/nginx/sites-available/booking\n")])])]),e("p",[s._v("Copy https://laravel.com/docs/5.8/deployment#server-configuration")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# modify `server_name` and `root`")]),s._v("\nserver_name server_domain_or_IP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nroot /var/www/Booking_Web/public"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo ln -s /etc/nginx/sites-available/booking /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl reload nginx\n")])])]),e("p",[s._v("now, we need add one record in "),e("code",[s._v("/etc/hosts")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("127.0.0.1 your_server_name\n")])])]),e("p",[e("img",{attrs:{src:a(256),alt:""}})]),s._v(" "),e("p",[s._v("Successful access website, it is because no database record.")]),s._v(" "),e("p",[e("img",{attrs:{src:a(637),alt:""}})]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("ufw allow mysql\nufw status\n")])])]),e("p",[e("img",{attrs:{src:a(638),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"ssl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssl","aria-hidden":"true"}},[s._v("#")]),s._v(" SSL")]),s._v(" "),e("p",[s._v("https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-nginx-in-ubuntu-18-04")])])},[],!1,null,null,null);t.default=n.exports}}]);