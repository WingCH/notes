(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{739:function(t,s,n){t.exports=n.p+"assets/img/image-20200719204747273.531964e2.png"},740:function(t,s,n){t.exports=n.p+"assets/img/image-20200719214020360.d6d61c67.png"},741:function(t,s,n){t.exports=n.p+"assets/img/image-20200719214211241.4e89a365.png"},742:function(t,s,n){t.exports=n.p+"assets/img/image-20200719223856813.abf39b67.png"},743:function(t,s,n){t.exports=n.p+"assets/img/image-20200719223941713.1168221a.png"},744:function(t,s,n){t.exports=n.p+"assets/img/image-20200719224126256.3c6bd361.png"},878:function(t,s,n){"use strict";n.r(s);var e=n(42),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"new-firebase-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#new-firebase-function"}},[t._v("#")]),t._v(" [New] Firebase Function")]),t._v(" "),e("blockquote",[e("p",[t._v("Firebas Function 近年更新了很多，所以再記錄一下")]),t._v(" "),e("p",[t._v("建議先看看為什麼要用Firebase Function  "),e("a",{attrs:{href:"https://firebase.google.com/docs/functions/use-cases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cloud Functions 有哪些用途？"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("首先要安裝"),e("code",[t._v("firebase-tools")]),t._v(" 和初始化")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("注意")]),t._v(": 選擇"),e("code",[t._v("Firestore")]),t._v("是因為在"),e("code",[t._v("Emulators")]),t._v(" 測試"),e("code",[t._v("Functions")]),t._v("時可以使用"),e("code",[t._v("onCreate")]),t._v("等功能")])]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g firebase-tools\n\nfirebase login\nfirebase init\n\n? Which Firebase CLI features "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" you want to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" up "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this folder? Press Space to "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" features, "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" Enter to confirm your choices.\n ◯ Database: Deploy Firebase Realtime Database Rules\n ◉ Firestore: Deploy rules and create indexes "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Firestore\n ◉ Functions: Configure and deploy Cloud Functions\n ◯ Hosting: Configure and deploy Firebase Hosting sites\n ◯ Storage: Deploy Cloud Storage security rules\n❯◉ Emulators: Set up "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" emulators "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Firebase features\n\n? What "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" should be used "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Firestore Rules? firestore.rules\n\nFirestore indexes allow you to perform complex queries "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v("\nmaintaining performance that scales with the size of the result\nset. You can keep index definitions "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your project directory\nand publish them with firebase deploy.\n\n? What "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" should be used "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Firestore indexes? firestore.indexes.json\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Functions Setup\n\nA functions directory will be created "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your project with a Node.js\npackage pre-configured. Functions can be deployed with firebase deploy.\n\n? What language would you like to use to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" Cloud Functions? JavaScript\n? Do you want to use ESLint to catch probable bugs and enforce style? Yes\n✔  Wrote functions/package.json\n✔  Wrote functions/.eslintrc.json\n✔  Wrote functions/index.js\n✔  Wrote functions/.gitignore\n? Do you want to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" dependencies with "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" now? Yes\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" protobufjs@6.10.1 postinstall /Volumes/ASUS_External/Wallet/functions/node_modules/protobufjs\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" node scripts/postinstall\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" notice created a lockfile as package-lock.json. You should commit this file.\nadded "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("361")]),t._v(" packages from "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("267")]),t._v(" contributors and audited "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("361")]),t._v(" packages "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(".732s\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v(" packages are looking "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" funding\n  run "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" fund"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" details\n\nfound "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" vulnerabilities\n\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Emulators Setup\n? Which Firebase emulators "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" you want to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" up? Press Space to "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" emulators, "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" Enter to confirm your choices. Functions, Firestore\ni  Port "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" functions already configured: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5001")]),t._v("\ni  Port "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" firestore already configured: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\ni  Emulator UI already enabled with port: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("automatic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n? Would you like to download the emulators now? Yes\n\ni  Writing configuration info to firebase.json"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  Writing project information to .firebaserc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n✔  Firebase initialization complete"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),e("p",[t._v("會生成以下檔案")]),t._v(" "),e("div",{staticClass:"language-she extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("myproject\n +- .firebaserc    # 隱藏的文件可幫助您在不同文件之間快速切換\n |                 # projects with `firebase use`\n |\n +- firebase.json  # 描述項目的屬性\n |\n +- functions/     # 包含所有function代碼的目錄\n      |\n      +- .eslintrc.json  # Optional file containing rules for JavaScript linting.\n      |\n      +- package.json  # 描述您的Cloud Functions代碼的npm軟件包文件\n      |\n      +- index.js      # Cloud Functions代碼的主要源文件\n      |\n      +- node_modules/ # 安裝依賴項\n")])])]),e("hr"),t._v(" "),e("h2",{attrs:{id:"實戰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實戰"}},[t._v("#")]),t._v(" 實戰")]),t._v(" "),e("blockquote",[e("p",[t._v("main.dart")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" functions "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'firebase-functions'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // Create and Deploy Your First Cloud Functions")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // https://firebase.google.com/docs/functions/write-firebase-functions")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\nexports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("helloWorld "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("https"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello logs!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("structuredData"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello from Firebase!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("啟動"),e("code",[t._v("emulators")])]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("firebase emulators:start\n\ni  emulators: Starting emulators: functions, firestore\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, hosting, pubsub\n✔  functions: Using node@10 from host.\ni  firestore: Firestore Emulator logging to firestore-debug.log\ni  ui: Emulator UI logging to ui-debug.log\ni  functions: Watching "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Volumes/ASUS_External/Wallet/firebase/functions"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Cloud Functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n✔  functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("helloWorld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": http "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" initialized "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://localhost:5001/project-name/us-central1/helloWorld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n\n┌───────────────────────────────────────────────────────────────────────┐\n│ ✔  All emulators ready"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" View status and logs at http://localhost:4000 │\n└───────────────────────────────────────────────────────────────────────┘\n\n┌───────────┬────────────────┬─────────────────────────────────┐\n│ Emulator  │ Host:Port      │ View "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Emulator UI             │\n├───────────┼────────────────┼─────────────────────────────────┤\n│ Functions │ localhost:5001 │ http://localhost:4000/functions │\n├───────────┼────────────────┼─────────────────────────────────┤\n│ Firestore │ localhost:8080 │ http://localhost:4000/firestore │\n└───────────┴────────────────┴─────────────────────────────────┘\n  Other reserved ports: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4400")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4500")]),t._v("\n\nIssues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.\n")])])]),e("blockquote",[e("p",[t._v("http://localhost:4000/")]),t._v(" "),e("p",[t._v("因為我們一開始啟用了以下項目，所以可以看到已打開")]),t._v(" "),e("p",[t._v("◉ Firestore: Deploy rules and create indexes for Firestore\n◉ Functions: Configure and deploy Cloud Functions")])]),t._v(" "),e("p",[e("img",{attrs:{src:n(739),alt:"image-20200719204747273"}})]),t._v(" "),e("blockquote",[e("p",[t._v("http://localhost:5001/project-name/us-central1/helloWorld")])]),t._v(" "),e("p",[e("img",{attrs:{src:n(740),alt:"image-20200719214020360"}})]),t._v(" "),e("p",[t._v("可以在Web UI 看到console")]),t._v(" "),e("blockquote",[e("p",[t._v("http://localhost:4000/logs")])]),t._v(" "),e("p",[e("img",{attrs:{src:n(741),alt:"image-20200719214211241"}})]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"定時任務"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定時任務"}},[t._v("#")]),t._v(" 定時任務")]),t._v(" "),e("blockquote",[e("p",[t._v("https://firebase.google.com/docs/functions/schedule-functions")]),t._v(" "),e("p",[t._v("好像不能在"),e("em",[t._v("本地")]),t._v("試，看不到效果")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scheduledFunctionCrontab "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pubsub"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("schedule")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'every 5 minutes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeZone")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asia/Hong_Kong'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Users can choose timezone - default is America/Los_Angeles")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onRun")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'every 5 minutes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("firebase deploy --only functions\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Deploying to "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\ni  deploying functions\nRunning command: "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" --prefix "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RESOURCE_DIR")]),t._v('"')]),t._v(" run lint\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" functions@ lint /Volumes/ASUS_External/Wallet/firebase/functions\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" eslint "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n\n✔  functions: Finished running predeploy script.\ni  functions: ensuring required API cloudfunctions.googleapis.com is enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  functions: ensuring required API cloudbuild.googleapis.com is enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n✔  functions: required API cloudbuild.googleapis.com is enabled\n✔  functions: required API cloudfunctions.googleapis.com is enabled\ni  functions: preparing functions directory "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" uploading"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  functions: packaged functions "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41.02")]),t._v(" KB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" uploading\n✔  functions: functions folder uploaded successfully\ni  functions: creating Node.js "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" helloWorld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("us-central1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  functions: creating Node.js "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" scheduledFunctionCrontab"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("us-central1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  scheduler: ensuring required API cloudscheduler.googleapis.com is enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ni  pubsub: ensuring required API pubsub.googleapis.com is enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n✔  scheduler: required API cloudscheduler.googleapis.com is enabled\n✔  pubsub: required API pubsub.googleapis.com is enabled\n✔  functions: created scheduler job firebase-schedule-scheduledFunctionCrontab-us-central1\n\n\n✔  functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("helloWorld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("us-central1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": Successful create operation.\nFunction URL "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("helloWorld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": https://xxx/helloWorld\n✔  functions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("scheduledFunctionCrontab"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("us-central1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": Successful create operation.\n\n✔  Deploy complete"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),e("p",[t._v("可以看到firebase自動開啟了"),e("code",[t._v("pubsub.googleapis.com")]),t._v("和 "),e("code",[t._v("cloudscheduler.googleapis.com")]),t._v(", 並生成了"),e("code",[t._v("scheduler job")])]),t._v(" "),e("p",[e("img",{attrs:{src:n(742),alt:"image-20200719223856813"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(743),alt:"image-20200719223941713"}})]),t._v(" "),e("p",[t._v("在firebase 的console 可以看到Log")]),t._v(" "),e("p",[e("img",{attrs:{src:n(744),alt:"image-20200719224126256"}})])])}),[],!1,null,null,null);s.default=a.exports}}]);