(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{448:function(t,a,e){t.exports=e.p+"assets/img/obama.14af9c52.jpg"},449:function(t,a,e){t.exports=e.p+"assets/img/15655104460252.b17613bf.jpg"},450:function(t,a,e){t.exports=e.p+"assets/img/15655104528461.71ee8057.jpg"},451:function(t,a,e){t.exports=e.p+"assets/img/15655104625319.77e30dca.jpg"},755:function(t,a,e){"use strict";e.r(a);var n=e(38),s=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"python-face-recognition"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python-face-recognition","aria-hidden":"true"}},[t._v("#")]),t._v(" Python face_recognition")]),t._v(" "),n("p",[t._v("使用的是 "),n("a",{attrs:{href:"https://github.com/ageitgey/face_recognition",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_recognition"),n("OutboundLink")],1),t._v("，據説準確率達99.38%")]),t._v(" "),n("p",[t._v("説明文檔 : https://face-recognition.readthedocs.io/en/latest/face_recognition.html")]),t._v(" "),n("p",[t._v("教學 : ihttps://www.jianshu.com/p/4dd131567015")]),t._v(" "),n("h1",{attrs:{id:"查找面孔"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查找面孔","aria-hidden":"true"}},[t._v("#")]),t._v(" 查找面孔")]),t._v(" "),n("p",[n("img",{attrs:{src:e(448),alt:"obama-c300"}})]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" PIL "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Image\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\n\nimage "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obama.jpg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# number_of_times_to_upsample - 對圖像進行上採樣以查找面部的次數。數字越大，面部越小")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# model - 使用哪種人臉檢測模型。“hog”不太準確，但在CPU上更快。“cnn”是一種更準確的深度學習模型，它是GPU / CUDA加速（如果可用）。默認為“hog”")]),t._v("\nface_locations "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_locations"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" number_of_times_to_upsample"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cnn"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"api-face-locations"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#api-face-locations","aria-hidden":"true"}},[t._v("#")]),t._v(" Api : "),n("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#face_locations",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_locations"),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("Return: A list of tuples of found face locations in css (top, right, bottom, left)")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("Top")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("right")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("Bottom")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("left")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("154")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("611")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("390")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("375")])])])])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" face_location "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_locations"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_location\n     face_image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n     pil_image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fromarray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("face_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     pil_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("show"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:e(449),alt:"-w552"}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(450),alt:""}})]),t._v(" "),n("h1",{attrs:{id:"查找面部特徵"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查找面部特徵","aria-hidden":"true"}},[t._v("#")]),t._v(" 查找面部特徵")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" PIL "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ImageDraw\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\n\nimage "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_file.jpg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找圖像中所有面部的所有面部特徵")]),t._v("\nface_landmarks_list "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_landmarks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"api-face-landmarks"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#api-face-landmarks","aria-hidden":"true"}},[t._v("#")]),t._v(" Api : "),n("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#face_landmarks",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_landmarks"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("img",{attrs:{src:"https://cdn-images-1.medium.com/max/1600/1*AbEg31EgkbXSQehuNJBlWg.png",alt:"face_landmarks -c300"}})]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("下巴")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("左眉")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("右眉")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("鼻樑")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("鼻尖")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("左眼")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("右眼")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("上唇")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("下唇")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("chin")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("left_eyebrow")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("right_eyebrow")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("nose_bridge")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("nose_tip")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("left_eye")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("right_eye")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("top_lip")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("bottom_lip")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("[0:17]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[17:22]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[22:27]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[27:31]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[31:36]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[36:42]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[42:48]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[48:55] + [[64]] + [[63]] + [[62]] + [[61]] + [[60]]")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("[54:60] + [[48]] + [[60]] + [[67]] + [[66]] + [[65]] + [[64]]")])])])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create a PIL imagedraw object so we can draw on the picture")]),t._v("\npil_image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fromarray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ImageDraw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Draw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pil_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" face_landmarks "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks_list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Print the location of each facial feature in this image")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" facial_feature "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The {} in this face has the following points: {}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("facial_feature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" face_landmarks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("facial_feature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Let's trace out each facial feature in the image with a line!")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" facial_feature "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("face_landmarks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("facial_feature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Show the picture")]),t._v("\npil_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("show"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:e(451),alt:"-w905"}})]),t._v(" "),n("h1",{attrs:{id:"識別圖片中的面孔"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#識別圖片中的面孔","aria-hidden":"true"}},[t._v("#")]),t._v(" 識別圖片中的面孔")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\nknown_image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obama.jpg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nunknown_image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unknown.jpg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#return : 128維面部編碼列表（圖像中每個面部一個）")]),t._v("\nobama_encoding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_encodings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("known_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nunknown_encoding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_encodings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("unknown_image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#return : true or false")]),t._v("\nresults "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compare_faces"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obama_encoding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unknown_encoding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"api-face-encodings-compare-faces"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#api-face-encodings-compare-faces","aria-hidden":"true"}},[t._v("#")]),t._v(" Api : "),n("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#compare_faces",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_encodings / compare_faces"),n("OutboundLink")],1)])])},[],!1,null,null,null);a.default=s.exports}}]);