(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{676:function(t,s,a){t.exports=a.p+"assets/img/15849732302398.ea5cd8b4.jpg"},677:function(t,s,a){t.exports=a.p+"assets/img/15849733103915.1909bc19.jpg"},678:function(t,s,a){t.exports=a.p+"assets/img/image-20200323101714947.5479a9ff.png"},679:function(t,s,a){t.exports=a.p+"assets/img/image-20200323102258880.7acfe3ff.png"},680:function(t,s,a){t.exports=a.p+"assets/img/image-20200405220716869.84de73a3.png"},681:function(t,s,a){t.exports=a.p+"assets/img/image-20200508133613462.dab5784d.png"},682:function(t,s,a){t.exports=a.p+"assets/img/image-20200508133733296.230c929c.png"},683:function(t,s,a){t.exports=a.p+"assets/img/image-20200508134236641.585ea6fd.png"},684:function(t,s,a){t.exports=a.p+"assets/img/image-20200508134101083.6e8d07ad.png"},685:function(t,s,a){t.exports=a.p+"assets/img/image-20200508134352787.f08fcaf1.png"},686:function(t,s,a){t.exports=a.p+"assets/img/image-20200508135309080.40eea01b.png"},687:function(t,s,a){t.exports=a.p+"assets/img/image-20200508135334283.2056370d.png"},688:function(t,s,a){t.exports=a.p+"assets/img/image-20200508135439287.7552550c.png"},689:function(t,s,a){t.exports=a.p+"assets/img/2020-04-05 22.40.52.fcd4a558.png"},690:function(t,s,a){t.exports=a.p+"assets/img/2020-04-05 22.58.45.b7b62e2c.png"},751:function(t,s,a){"use strict";a.r(s);var e=a(28),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"flutter-集成ios-android"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flutter-集成ios-android"}},[t._v("#")]),t._v(" Flutter 集成iOS, Android")]),t._v(" "),e("h2",{attrs:{id:"官方方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#官方方法"}},[t._v("#")]),t._v(" 官方方法")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/project-setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("將 Flutter module 集成到 iOS 項目"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("首先我們需要兩樣元素")]),t._v(" "),e("ol",[e("li",[t._v("Flutter module")]),t._v(" "),e("li",[t._v("iOS Project")]),t._v(" "),e("li",[t._v("Android Project (之後再研究)")])]),t._v(" "),e("h2",{attrs:{id:"_1-flutter-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-flutter-module"}},[t._v("#")]),t._v(" 1.  Flutter module")]),t._v(" "),e("p",[t._v("建立一个 Flutter module")]),t._v(" "),e("blockquote",[e("p",[t._v("不支援swift? https://github.com/flutter/flutter/issues/53091")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("flutter create --template module my_flutter\n")])])]),e("p",[t._v("需要先安裝依賴")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd my_flutter\nflutter pub get \n")])])]),e("p",[t._v("打開"),e("strong",[t._v("my_flutter")]),t._v("的iOS Project, 嘗試run 看看是否正常\n"),e("img",{attrs:{src:a(676),alt:"-w857"}})]),t._v(" "),e("p",[t._v("正常應該可以看到"),e("strong",[t._v("Flutter端")]),t._v("的Counter example")]),t._v(" "),e("img",{staticStyle:{zoom:"25%"},attrs:{src:a(677),alt:"-w443"}}),t._v(" "),e("h2",{attrs:{id:"_2-ios-project"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-ios-project"}},[t._v("#")]),t._v(" 2.  iOS Project")]),t._v(" "),e("p",[t._v("建立一個iOS Project, 放在同一層")]),t._v(" "),e("p",[e("img",{attrs:{src:a(678),alt:"image-20200323101714947"}})]),t._v(" "),e("p",[e("strong",[t._v("有三種方法如下:")]),t._v(" (只需用其中一款)")]),t._v(" "),e("h2",{attrs:{id:"_2-1-使用-cocoapods-和-flutter-sdk-集成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-使用-cocoapods-和-flutter-sdk-集成"}},[t._v("#")]),t._v(" 2.1 使用 CocoaPods 和 Flutter SDK 集成")]),t._v(" "),e("p",[t._v("初始化CocoaPods, 會生成"),e("code",[t._v("Podfile")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" iOSProject\npod init\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n\nPodfile              iOSProject           iOSProject.xcodeproj\n")])])]),e("p",[t._v("根據"),e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/project-setup#option-a---embed-with-cocoapods-and-the-flutter-sdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("官網教學"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("flutter_application_path = '../my_flutter'\nload File.join(flutter_application_path, '.ios', 'Flutter', 'podhelper.rb')\n\ntarget 'iOSProject' do\n  # Comment the next line if you don't want to use dynamic frameworks\n  use_frameworks!\n\n  # Pods for iOSProject\n  install_all_flutter_pods(flutter_application_path)\n\nend\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("pod "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\nAnalyzing dependencies\nDownloading dependencies\nInstalling Flutter "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v(".0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nInstalling FlutterPluginRegistrant "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nInstalling my_flutter "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nGenerating Pods project\nIntegrating client project\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),e("p",[t._v("打開iOS Project, 嘗試run 看看是否正常")]),t._v(" "),e("p",[e("img",{attrs:{src:a(679),alt:"image-20200323102258880"}})]),t._v(" "),e("p",[t._v("iOS端一開始正常是空白的")]),t._v(" "),e("img",{staticStyle:{zoom:"25%"},attrs:{src:a(680),alt:"image-20200405220716869"}}),t._v(" "),e("h2",{attrs:{id:"_2-2-在-xcode-中集成-frameworks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-在-xcode-中集成-frameworks"}},[t._v("#")]),t._v(" 2.2 在 Xcode 中集成 frameworks")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("flutter build ios-framework\n\nsome/path/MyApp/\n└── Flutter/\n    ├── Debug/\n    │   ├── Flutter.framework\n    │   ├── App.framework\n    │   ├── FlutterPluginRegistrant.framework "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("only "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you have plugins with iOS platform code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    │   └── example_plugin.framework "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("each plugin is a separate framework"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ├── Profile/\n    │   ├── Flutter.framework\n    │   ├── App.framework\n    │   ├── FlutterPluginRegistrant.framework\n    │   └── example_plugin.framework\n    └── Release/\n        ├── Flutter.framework\n        ├── App.framework\n        ├── FlutterPluginRegistrant.framework\n        └── example_plugin.framework\n")])])]),e("p",[t._v("會生成三組framework, 分別是 "),e("code",[t._v("Debug")]),t._v(" "),e("code",[t._v("Profile")]),t._v(" "),e("code",[t._v("Release")])]),t._v(" "),e("p",[t._v("因為framework 原本分開了"),e("code",[t._v("Profile")]),t._v(" 和 "),e("code",[t._v("Release")]),t._v("，有兩個解決方式")]),t._v(" "),e("ol",[e("li",[t._v("將"),e("code",[t._v("Profile")]),t._v(" 和 "),e("code",[t._v("Release")]),t._v(" 合併成一個framework")]),t._v(" "),e("li",[t._v("在Xcode 有兩個config setting")])]),t._v(" "),e("p",[t._v("現在嘗試用第二種方式")]),t._v(" "),e("blockquote",[e("p",[t._v("參考: https://www.appcoda.com.tw/using-xcode-targets/")])]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(681),alt:"image-20200508133613462"}}),t._v(" "),e("p",[t._v("設定成同名")]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(682),alt:"image-20200508133733296"}}),t._v(" "),e("p",[e("code",[t._v("iOSProject_use_frameworks")]),t._v(" 使用 "),e("code",[t._v("Release")])]),t._v(" "),e("p",[e("code",[t._v("iOSProject_use_frameworks_DEBUG")]),t._v(" 使用 "),e("code",[t._v("Profile")])]),t._v(" "),e("h3",{attrs:{id:"release-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#release-setup"}},[t._v("#")]),t._v(" Release setup")]),t._v(" "),e("p",[t._v("拉入去")]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(683),alt:"image-20200508134236641"}}),t._v(" "),e("p",[t._v("選擇targets "),e("code",[t._v("iOSProject_use_frameworks")])]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(684),alt:"image-20200508134101083"}}),t._v(" "),e("p",[t._v("設定 "),e("code",[t._v("Embed & Sign")])]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(685),alt:"image-20200508134352787"}}),t._v(" "),e("h3",{attrs:{id:"profile-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#profile-setup"}},[t._v("#")]),t._v(" Profile setup")]),t._v(" "),e("p",[t._v("拉入去")]),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(686),alt:"image-20200508135309080"}}),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(687),alt:"image-20200508135334283"}}),t._v(" "),e("img",{staticStyle:{zoom:"50%"},attrs:{src:a(688),alt:"image-20200508135439287"}}),t._v(" "),e("blockquote",[e("p",[t._v("上述步驟已完成"),e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/project-setup#option-b---embed-frameworks-in-xcode",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方教學 选项 B - 在 Xcode 中集成 frameworks"),e("OutboundLink")],1),t._v(", 链接到框架 和 内嵌框架 等設定.")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"在原生app添加一个-flutter-页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在原生app添加一个-flutter-页面"}},[t._v("#")]),t._v(" 在原生App"),e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/add-flutter-screen",target:"_blank",rel:"noopener noreferrer"}},[t._v("添加一个 Flutter 页面"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("根據"),e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/add-flutter-screen?tab=vc-swift-tab#create-a-flutterengine",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方教學"),e("OutboundLink")],1),t._v(", 修改"),e("code",[t._v("AppDelegate.swift")])]),t._v(" "),e("p",[t._v("將"),e("code",[t._v("class AppDelegate: UIResponder, UIApplicationDelegate")]),t._v("換成"),e("code",[t._v("FlutterAppDelegate")]),t._v(",")]),t._v(" "),e("p",[t._v("其實可以不換，參考"),e("a",{attrs:{href:"https://github.com/flutter/samples/blob/master/add_to_app/ios_fullscreen/IOSFullScreen/AppDelegate.swift",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方sample"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("好神奇地"),e("a",{attrs:{href:"https://flutter.cn/docs/development/add-to-app/ios/add-flutter-screen?tab=vc-swift-tab#create-a-flutterengine",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方教學"),e("OutboundLink")],1),t._v("同官方"),e("a",{attrs:{href:"https://github.com/flutter/samples/blob/master/add_to_app/ios_fullscreen/IOSFullScreen/AppDelegate.swift",target:"_blank",rel:"noopener noreferrer"}},[t._v("sample"),e("OutboundLink")],1),t._v("係不一致...")])]),t._v(" "),e("div",{staticClass:"language-swift extra-class"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIKit")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Flutter")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果在flutter module無用plugin可忽略")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//import FlutterPluginRegistrant")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@UIApplicationMain")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppDelegate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("FlutterAppDelegate")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// More on the FlutterAppDelegate.")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" flutterEngine "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("FlutterEngine")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my flutter engine"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("application")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v(" application"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIApplication")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" didFinishLaunchingWithOptions launchOptions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIApplication")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("LaunchOptionsKey")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Bool")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Runs the default Dart entrypoint with a default Flutter route.")]),t._v("\n    flutterEngine"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如果在flutter module無用plugin可忽略")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// GeneratedPluginRegistrant.register(with: self.flutterEngine);")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("application")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("application"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" didFinishLaunchingWithOptions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" launchOptions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("以上是讓flutter端在一開始是預熱(preload), 保持之後能更快使用")]),t._v(" "),e("p",[t._v("官方説明:")]),t._v(" "),e("blockquote",[e("p",[t._v("Dart VM 启动后永远不会关闭")]),t._v(" "),e("p",[e("code",[t._v("FlutterEngine")]),t._v(" 充当 Dart VM 和 Flutter 运行时的主机； "),e("code",[t._v("FlutterViewController")]),t._v(" 依附于 "),e("code",[t._v("FlutterEngine")]),t._v("，给 Flutter 传递 UIKit 的输入事件，并展示被 "),e("code",[t._v("FlutterEngine")]),t._v(" 渲染的每一帧画面。")]),t._v(" "),e("p",[e("code",[t._v("FlutterEngine")]),t._v(" 的寿命可能与 "),e("code",[t._v("FlutterViewController")]),t._v(" 相同，也可能超过 "),e("code",[t._v("FlutterViewController")]),t._v("。")]),t._v(" "),e("p",[t._v("通常建议为您的应用预热一个“长寿”的 "),e("code",[t._v("FlutterEngine")]),t._v(" 是因为:")]),t._v(" "),e("ul",[e("li",[t._v("当展示 "),e("code",[t._v("FlutterViewController")]),t._v(" 时，第一帧画面将会更快展现；")]),t._v(" "),e("li",[t._v("你的 Flutter 和 Dart 状态将比一个"),e("code",[t._v("FlutterViewController")]),t._v(" 存活更久；")]),t._v(" "),e("li",[t._v("在展示 UI 前，你的应用和 plugins 可以与 Flutter 和 Dart 逻辑交互。")])])]),t._v(" "),e("p",[t._v("接下來修改"),e("code",[t._v("ViewController.swift")])]),t._v(" "),e("div",{staticClass:"language-swift extra-class"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIKit")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Flutter")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ViewController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIViewController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("viewDidLoad")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("viewDidLoad")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Make a button to call the showFlutter function when pressed.")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" button "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIButton")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIButton")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ButtonType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("custom"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          button"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addTarget")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("showFlutter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("touchUpInside"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          button"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Show Flutter!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIControl")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("State")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          button"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frame "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGRect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("210.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("160.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("40.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          button"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("blue\n          "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSubview")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@objc")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("showFlutter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" flutterEngine "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIApplication")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shared"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("delegate "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("AppDelegate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flutterEngine\n          "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" flutterViewController "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("FlutterViewController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("engine"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flutterEngine"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nibName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("present")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("flutterViewController"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" animated"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" completion"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("效果: 在iOS端調用出flutter端")]),t._v(" "),e("img",{staticStyle:{zoom:"25%"},attrs:{src:a(689),alt:"2020-04-05 22.40.52"}}),t._v(" "),e("h3",{attrs:{id:"交互"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#交互"}},[t._v("#")]),t._v(" 交互")]),t._v(" "),e("blockquote",[e("p",[t._v("參考官方sample")]),t._v(" "),e("p",[t._v("flutter端: "),e("a",{attrs:{href:"https://github.com/flutter/samples/tree/master/add_to_app/flutter_module",target:"_blank",rel:"noopener noreferrer"}},[t._v("samples/add_to_app/flutter_module"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("iOS端: "),e("a",{attrs:{href:"https://github.com/flutter/samples/tree/master/add_to_app/ios_fullscreen/IOSFullScreen",target:"_blank",rel:"noopener noreferrer"}},[t._v("samples/add_to_app/IOSFullScreen"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("效果: 在iOS端和flutter端數據互通")]),t._v(" "),e("img",{staticStyle:{zoom:"25%"},attrs:{src:a(690),alt:"2020-04-05 22.58.45"}})])}),[],!1,null,null,null);s.default=n.exports}}]);