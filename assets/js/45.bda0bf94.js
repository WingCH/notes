(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{450:function(t,a,n){t.exports=n.p+"assets/img/obama.14af9c52.jpg"},451:function(t,a,n){t.exports=n.p+"assets/img/15655104460252.b17613bf.jpg"},452:function(t,a,n){t.exports=n.p+"assets/img/15655104528461.71ee8057.jpg"},453:function(t,a,n){t.exports=n.p+"assets/img/15655104625319.77e30dca.jpg"},749:function(t,a,n){"use strict";n.r(a);var e=n(28),s=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"python-face-recognition"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#python-face-recognition"}},[t._v("#")]),t._v(" Python face_recognition")]),t._v(" "),e("p",[t._v("使用的是 "),e("a",{attrs:{href:"https://github.com/ageitgey/face_recognition",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_recognition"),e("OutboundLink")],1),t._v("，據説準確率達99.38%")]),t._v(" "),e("p",[t._v("説明文檔 : https://face-recognition.readthedocs.io/en/latest/face_recognition.html")]),t._v(" "),e("p",[t._v("教學 : ihttps://www.jianshu.com/p/4dd131567015")]),t._v(" "),e("h1",{attrs:{id:"查找面孔"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找面孔"}},[t._v("#")]),t._v(" 查找面孔")]),t._v(" "),e("p",[e("img",{attrs:{src:n(450),alt:"obama-c300"}})]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" PIL "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Image\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\n\nimage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obama.jpg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# number_of_times_to_upsample - 對圖像進行上採樣以查找面部的次數。數字越大，面部越小")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# model - 使用哪種人臉檢測模型。“hog”不太準確，但在CPU上更快。“cnn”是一種更準確的深度學習模型，它是GPU / CUDA加速（如果可用）。默認為“hog”")]),t._v("\nface_locations "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_locations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" number_of_times_to_upsample"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cnn"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"api-face-locations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-face-locations"}},[t._v("#")]),t._v(" Api : "),e("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#face_locations",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_locations"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("Return: A list of tuples of found face locations in css (top, right, bottom, left)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("Top")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("right")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Bottom")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("left")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("154")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("611")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("390")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("375")])])])])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" face_location "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_locations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     top"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_location\n     face_image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("top"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("bottom"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("right"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n     pil_image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fromarray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("face_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     pil_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("show"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:n(451),alt:"-w552"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(452),alt:""}})]),t._v(" "),e("h1",{attrs:{id:"查找面部特徵"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找面部特徵"}},[t._v("#")]),t._v(" 查找面部特徵")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" PIL "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ImageDraw\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\n\nimage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_file.jpg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找圖像中所有面部的所有面部特徵")]),t._v("\nface_landmarks_list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_landmarks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"api-face-landmarks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-face-landmarks"}},[t._v("#")]),t._v(" Api : "),e("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#face_landmarks",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_landmarks"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn-images-1.medium.com/max/1600/1*AbEg31EgkbXSQehuNJBlWg.png",alt:"face_landmarks -c300"}})]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("下巴")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("左眉")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("右眉")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("鼻樑")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("鼻尖")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("左眼")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("右眼")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("上唇")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("下唇")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("chin")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("left_eyebrow")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("right_eyebrow")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("nose_bridge")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("nose_tip")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("left_eye")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("right_eye")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("top_lip")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bottom_lip")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("[0:17]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[17:22]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[22:27]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[27:31]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[31:36]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[36:42]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[42:48]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[48:55] + [[64]] + [[63]] + [[62]] + [[61]] + [[60]]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("[54:60] + [[48]] + [[60]] + [[67]] + [[66]] + [[65]] + [[64]]")])])])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create a PIL imagedraw object so we can draw on the picture")]),t._v("\npil_image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fromarray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ImageDraw"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Draw"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pil_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" face_landmarks "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks_list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Print the location of each facial feature in this image")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" facial_feature "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The {} in this face has the following points: {}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("facial_feature"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" face_landmarks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("facial_feature"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Let's trace out each facial feature in the image with a line!")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" facial_feature "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" face_landmarks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("line"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("face_landmarks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("facial_feature"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Show the picture")]),t._v("\npil_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("show"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:n(453),alt:"-w905"}})]),t._v(" "),e("h1",{attrs:{id:"識別圖片中的面孔"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#識別圖片中的面孔"}},[t._v("#")]),t._v(" 識別圖片中的面孔")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" face_recognition\nknown_image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obama.jpg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nunknown_image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_image_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unknown.jpg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#return : 128維面部編碼列表（圖像中每個面部一個）")]),t._v("\nobama_encoding "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_encodings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("known_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nunknown_encoding "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("face_encodings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("unknown_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#return : true or false")]),t._v("\nresults "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" face_recognition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compare_faces"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obama_encoding"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unknown_encoding"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"api-face-encodings-compare-faces"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-face-encodings-compare-faces"}},[t._v("#")]),t._v(" Api : "),e("a",{attrs:{href:"https://face-recognition.readthedocs.io/en/latest/_modules/face_recognition/api.html#compare_faces",target:"_blank",rel:"noopener noreferrer"}},[t._v("face_encodings / compare_faces"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);