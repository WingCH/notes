(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{787:function(a,t,s){"use strict";s.r(t);var n=s(28),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"laravel-docker-setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laravel-docker-setup"}},[a._v("#")]),a._v(" Laravel Docker Setup")]),a._v(" "),s("p",[a._v("這次學習在Docker建立Laravel的開發環境，方便日後上生產環境(Production)")]),a._v(" "),s("blockquote",[s("p",[a._v("參考: "),s("a",{attrs:{href:"https://blog.wu-boy.com/2019/12/setup-laravel-environment-in-15-minutes/",target:"_blank",rel:"noopener noreferrer"}},[a._v("用 15 分鐘快速打造 Laravel 開發環境"),s("OutboundLink")],1),a._v(" , "),s("a",{attrs:{href:"https://laradock.io/getting-started/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Laradock"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("假設本身沒有Laravel Project，從第一步開始")]),a._v(" "),s("p",[a._v("目標目錄架構, 這樣做方便日後多個項目, Multiple Projects")]),a._v(" "),s("blockquote",[s("p",[a._v("https://laradock.io/getting-started/")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("├── laradock\n└── project1\n└── project2\n└── "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),s("p",[a._v("首先clone一份laradock.git")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/Laradock/laradock.git\n\nCloning into "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'laradock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nremote: Enumerating objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(", done.\nremote: Counting objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("/10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", done.\nremote: Compressing objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("/10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", done.\nremote: Total "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10339")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("delta "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", reused "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("delta "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", pack-reused "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10329")]),a._v("\nReceiving objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10339")]),a._v("/10339"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.23")]),a._v(" MiB "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.35")]),a._v(" MiB/s, done.\nResolving deltas: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5605")]),a._v("/5605"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", done.\n")])])]),s("p",[a._v("進入laradock folder, 復制env-example 進行自定義")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" laradock\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" env-example .env\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" .env\t\n")])])]),a._v(" "),s("p",[a._v("另外為了避免"),s("code",[a._v("80")]),a._v(" "),s("code",[a._v("443")]),a._v(" port 已被使用，所以更改到"),s("code",[a._v("8000")]),a._v(" "),s("code",[a._v("4430")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NGINX_HOST_HTTP_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NGINX_HOST_HTTPS_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4430")]),a._v("\n")])])]),s("p",[a._v("進入容器 "),s("code",[a._v("nginx")]),a._v(" 和 "),s("code",[a._v("mysql")]),a._v(", 會自動生成"),s("code",[a._v("network")]),a._v(", "),s("code",[a._v("container")]),a._v("等項目")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose up -d nginx mysql\n\nCreating network "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"laradock_frontend"')]),a._v(" with driver "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bridge"')]),a._v("\nCreating network "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"laradock_backend"')]),a._v(" with driver "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bridge"')]),a._v("\nCreating network "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"laradock_default"')]),a._v(" with the default driver\nCreating laradock_docker-in-docker_1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\nCreating laradock_mysql_1            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\nCreating laradock_workspace_1        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\nCreating laradock_php-fpm_1          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\nCreating laradock_nginx_1            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),s("p",[a._v("然後進入剛剛生成的"),s("code",[a._v("laradock_workspace_1")]),a._v(", 日後的所有"),s("code",[a._v("php")]),a._v("的操作都是在這裡進行.\n根據"),s("code",[a._v(".env")]),a._v(" 中"),s("code",[a._v("APP_CODE_PATH_CONTAINER")]),a._v("，所以一開始的路徑在"),s("code",[a._v("/var/www")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" workspace "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\nroot@93e56517c403:/var/www"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n")])])]),s("p",[a._v("在建立文件夾"),s("code",[a._v("project1")]),a._v(", 並生成Laravel項目")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" project1\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" project1\ncomposer create-project laravel/laravel --prefer-dist "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n\nInstalling laravel/laravel "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("v7.0.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  - Installing laravel/laravel "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("v7.0.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": Downloading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nCreated project "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" @php -r "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"file_exists('.env') || copy('.env.example', '.env');\"")]),a._v("\nLoading composer repositories with package information\nUpdating dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("including require-dev"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nPackage operations: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("93")]),a._v(" installs, "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" updates, "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" removals\n  - Installing voku/portable-ascii "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.4")]),a._v(".10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": Downloading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  - Installing symfony/polyfill-ctype "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("v1.14.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": Downloading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  - Installing phpoption/phpoption "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.7")]),a._v(".2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": Downloading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  - Installing vlucas/phpdotenv "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("v4.1.2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": Downloading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),s("p",[a._v("如果這時看本地文件的話，會看到多了一個"),s("code",[a._v("project1")]),a._v("的文件夾，因為docker是與本地同步的")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2020/03/22/g6SW74mV3CUP82p.jpg",alt:"-w857"}})]),a._v(" "),s("p",[a._v("假設domain是"),s("code",[a._v("project1.test")]),a._v(", 增加一個"),s("code",[a._v(".conf")]),a._v("檔案")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/laradock/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" -r nginx/sites/laravel.conf.example nginx/sites/project1.test.conf\n")])])]),s("p",[a._v("把修改"),s("code",[a._v("server_name")]),a._v("和"),s("code",[a._v("root")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" nginx/sites/project1.test.conf\n\nserver_name project1.test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nroot /var/www/project1/public"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("更新一下nginx的設定")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" nginx nginx -s reload\n")])])]),s("p",[a._v("注意：要在本機的hosts檔添加"),s("code",[a._v("127.0.0.1 project1.test")]),a._v(" "),s("img",{attrs:{src:"https://i.loli.net/2020/03/22/PZwU8Y6DCVIkFMJ.jpg",alt:"-w800"}})]),a._v(" "),s("p",[a._v("現在上"),s("code",[a._v("project1.test:8000")]),a._v("，應該可以看到Laravel的畫面")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2020/03/22/TSfysRZWMUAvhPu.jpg",alt:"-w1280"}})]),a._v(" "),s("p",[a._v("還有些後續操作, 如果我們要"),s("code",[a._v("migrate")]),a._v(", 會有Connection refused, 因為我們未正確設定"),s("code",[a._v(".env")]),a._v("中的"),s("code",[a._v("DB_HOST")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("php artisan migrate\n\n Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("QueryException\n\n  SQLSTATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("HY000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2002")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Connection refused "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SQL: "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" * from information_schema.tables where table_schema "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" laravel and table_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" migrations and table_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'BASE TABLE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),s("p",[a._v("將"),s("code",[a._v("DB_HOST")]),a._v("由"),s("code",[a._v("127.0.0.1")]),a._v("改成"),s("code",[a._v("mysql")]),a._v(", 另外填入預設密碼")]),a._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/laradock/laradock/issues/869#issuecomment-297674870",target:"_blank",rel:"noopener noreferrer"}},[a._v("Connecting Laravel Project with Host Mysql"),s("OutboundLink")],1)])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" .env\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DB_HOST")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DB_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n")])])]),s("p",[a._v("再試一次"),s("code",[a._v("migrate")]),a._v(", 這次成功連接到mysql, 但有錯誤: "),s("code",[a._v("Unknown database 'laravel'")]),a._v(", 原因是一開始在mysql沒有一個database叫"),s("code",[a._v("laravel")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("php artisan migrate\n\n  Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("QueryException\n\n  SQLSTATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("HY000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1049")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Unknown database "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'laravel'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SQL: "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" * from information_schema.tables where table_schema "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" laravel and table_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" migrations and table_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'BASE TABLE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("現在我們要進入mysql的docker container")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" mysql "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\nroot@52107ec0d277:/"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n")])])]),s("p",[a._v("登入mysql, 預設帳號密碼都是"),s("code",[a._v("root")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("mysql -u root -p\n\nEnter password:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nmysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("p",[a._v("生成database")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("create database laravel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nQuery OK, "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" row affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.01")]),a._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("現在再試一次"),s("code",[a._v("migrate")]),a._v(", 成功!")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" workspace "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" project1\nphp artisan migrate\n\nMigration table created successfully.\nMigrating: 2014_10_12_000000_create_users_table\nMigrated:  2014_10_12_000000_create_users_table "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.04")]),a._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nMigrating: 2019_08_19_000000_create_failed_jobs_table\nMigrated:  2019_08_19_000000_create_failed_jobs_table "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.01")]),a._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("嘗試一下開始auth, 看看能否正常運作")]),a._v(" "),s("blockquote",[s("p",[a._v("https://stackoverflow.com/a/34546836/5588637")]),a._v(" "),s("p",[a._v("https://laravel.com/docs/6.x/frontend")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" project1\ncomposer require laravel/ui\nphp artisan ui bootstrap --auth\nphp artisan migrate\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run dev\n")])])]),s("p",[a._v("成功!!")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2020/03/21/klKnM8mDO5aCpJb.png",alt:"image-20200320153041993"}})]),a._v(" "),s("hr"),a._v(" "),s("p",[a._v("Xdebug")]),a._v(" "),s("blockquote",[s("p",[a._v("參考: http://onthink.com/2019/02/20/mac-laradock-xdebug-phpstorm/")])])])}),[],!1,null,null,null);t.default=e.exports}}]);