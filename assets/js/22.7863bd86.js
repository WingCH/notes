(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{433:function(t,s,a){t.exports=a.p+"assets/img/15380544998427.52f90711.jpg"},434:function(t,s,a){t.exports=a.p+"assets/img/IMG_0CD3494CF9BD-1.3a0ba0cc.png"},435:function(t,s,a){t.exports=a.p+"assets/img/15382159233915.bd85f1d2.jpg"},436:function(t,s,a){t.exports=a.p+"assets/img/15382167002461.ac84a041.jpg"},437:function(t,s,a){t.exports=a.p+"assets/img/IMB_olIbd9.49ff688a.gif"},438:function(t,s,a){t.exports=a.p+"assets/img/IMB_QI5VEF.a790e9fb.gif"},691:function(t,s,a){"use strict";a.r(s);var e=a(38),r=Object(e.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"siri-shortcut-jsbox-九巴到站時間"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#siri-shortcut-jsbox-九巴到站時間","aria-hidden":"true"}},[t._v("#")]),t._v(" Siri shortcut / JSBox 九巴到站時間")]),t._v(" "),e("p",[t._v("因為每天早上回學都需要用KMB Apps查巴士到站時間，首先要尋找和打開KMB Apps，另外還要閉關廣告和輸入巴士號搜尋，過程需時，最近iOS推出了Siri shortcut(之前的Workflow)，更可以在Apple watch使用，所以心血來潮想玩一下。")]),t._v(" "),e("ol",[e("li",[t._v("取得九巴的到站時間Api")]),t._v(" "),e("li",[t._v("利用Siri shortcut取得巴士到站時間\n"),e("ol",[e("li",[t._v("使用JSbox實現相同的功能")])])])]),t._v(" "),e("h1",{attrs:{id:"取得九巴的到站時間api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#取得九巴的到站時間api","aria-hidden":"true"}},[t._v("#")]),t._v(" 取得九巴的到站時間Api")]),t._v(" "),e("blockquote",[e("p",[t._v("本來打算在網頁版的"),e("a",{attrs:{href:"http://search.kmb.hk/KMBWebSite/index.aspx?lang=tc",target:"_blank",rel:"noopener noreferrer"}},[t._v("九巴到站時間"),e("OutboundLink")],1),t._v("利用抓包工具"),e("a",{attrs:{href:"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&uact=8&ved=2ahUKEwjg3NnTodvdAhVC62EKHcstBtcQFjAAegQICRAB&url=https%3A%2F%2Fwww.charlesproxy.com%2F&usg=AOvVaw0NQY3-KxOagyLymUCR6n1J",target:"_blank",rel:"noopener noreferrer"}},[t._v("Charles"),e("OutboundLink")],1),t._v("取得到站時間的資料，誰知道找不到完整的REST API，可能是功力不夠吧😂😂")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(433),alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("然後就嘗試在九巴的手機Apps入手，這次成功利用抓包工具Surge取得完整的REST API和到站時間的資料（也可以用"),e("a",{attrs:{href:"https://itunes.apple.com/hk/app/stream/id1312141691?mt=8",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stream"),e("OutboundLink")],1),t._v(" 這個不用錢）")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(434),alt:"IMG_0CD3494CF9BD-1"}})]),t._v(" "),e("blockquote",[e("p",[t._v("REST API")])]),t._v(" "),e("div",{staticClass:"language-url extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("http://etav3.kmb.hk/?action=geteta&lang=tc&route=35A&bound=1&stop=WO04S13000&stop_seq=4&servicetype=01\n")])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("Name")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Value")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}})])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("action")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("geteta")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("lang")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("tc")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("繁中")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("35A")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("巴士號碼")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("bound")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("方向")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("stop")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("WO04S13000")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("*"),e("strong",[t._v("可以不用")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("stop_seq")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("第幾個站 (0開始)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("servicetype")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("01")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("blockquote",[e("p",[t._v("這是35A第五個站的到站數據\n很多我也不知道是什麼意思，但Apps的到站時間是根據"),e("code",[t._v("t")]),t._v("來計算的")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//response")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"responsecode"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"response"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"w"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ex"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-09-27 21:59:41"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eot"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"E"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"t"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21:58"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ei"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bus_service_type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wifi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"E"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"w"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ex"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-09-27 22:19:32"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eot"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"T"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"t"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22:19　預定班次"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ei"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bus_service_type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wifi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"N"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"w"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ex"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-09-27 22:44:29"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eot"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"T"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"t"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22:43　預定班次"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ei"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bus_service_type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wifi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"N"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"generated"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1538055891894")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1538055859000")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h1",{attrs:{id:"利用siri-shortcut取得巴士到站時間"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#利用siri-shortcut取得巴士到站時間","aria-hidden":"true"}},[t._v("#")]),t._v(" 利用Siri shortcut取得巴士到站時間")]),t._v(" "),e("blockquote",[e("p",[t._v("35A到站時間：https://www.icloud.com/shortcuts/114f6e29821f4663b0eab49d9c3fb2ce")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(435),alt:"-c511"}})]),t._v(" "),e("blockquote",[e("p",[t._v("加入Siri")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(436),alt:"-w1125"}})]),t._v(" "),e("hr"),t._v(" "),e("h1",{attrs:{id:"實驗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實驗","aria-hidden":"true"}},[t._v("#")]),t._v(" 實驗")]),t._v(" "),e("blockquote",[e("p",[t._v("Siri的廣東話識別真是差💩💩💩")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(437),alt:"IMB_olIbd9 -c"}})]),t._v(" "),e("hr"),t._v(" "),e("h1",{attrs:{id:"使用jsbox實現相同的功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用jsbox實現相同的功能","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用JSbox實現相同的功能")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.xteko.com/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSBox"),e("OutboundLink")],1),t._v("是類似Siri Shortcut的神器，可以實現比Siri Shortcut更多的功能，詳情可以搜一下")]),t._v(" "),e("blockquote",[e("p",[t._v("腳本分享 : "),e("a",{attrs:{href:"https://xteko.com/redir?name=KMB%E5%88%B0%E7%AB%99%E6%99%82%E9%96%93&url=https://raw.githubusercontent.com/WingCH/JSBox_KMB/master/KMB_ArrivalTime.js&icon=icon_087&author=WingCH",target:"_blank",rel:"noopener noreferrer"}},[t._v("KMB_ArrivalTime.js"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("img",{attrs:{src:a(438),alt:"IMB_QI5VEF -c"}})])])},[],!1,null,null,null);s.default=r.exports}}]);